{
  "protocol": "http",
  "port": 3000,
  "stubs": [
    {
      "predicates": [{
        "equals": {
          "method": "GET",
          "path": "/oauth/authorize",
          "query": {
            "client_id": "79553235751bfcb87654"
          }
        }
      }],
      "responses": [{
        "inject": "<%- stringify(filename, 'auth.js') %>"
      }]
    },
    {
      "predicates": [
        {
          "equals": {
            "method": "POST",
            "path": "/login/oauth/access_token"
          }
        },
        {
          "contains": {
            "body": "client_id=79553235751bfcb87654"
          }
        },
        {
          "contains": {
            "body": "code=TEST_CODE"
          }
        },
        {
          "contains": {
            "body": "client_secret=..."
          }
        }
      ],
      "responses": [{
        "is": { ...send token }
      }]
    }
  ]
}
